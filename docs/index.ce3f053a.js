document.addEventListener("DOMContentLoaded",()=>{let e;let t={arts:"https://api.nytimes.com/svc/topstories/v2/arts.json?api-key=NSezIK2lYefggLc6W3MYCn1nw4pJnuyh",home:"https://api.nytimes.com/svc/topstories/v2/home.json?api-key=NSezIK2lYefggLc6W3MYCn1nw4pJnuyh",science:"https://api.nytimes.com/svc/topstories/v2/science.json?api-key=NSezIK2lYefggLc6W3MYCn1nw4pJnuyh",us:"https://api.nytimes.com/svc/topstories/v2/us.json?api-key=NSezIK2lYefggLc6W3MYCn1nw4pJnuyh",world:"https://api.nytimes.com/svc/topstories/v2/world.json?api-key=NSezIK2lYefggLc6W3MYCn1nw4pJnuyh"},n=document.getElementById("articles-container"),o=document.getElementById("category-header"),s=document.getElementById("news-type-container"),a=document.getElementById("loading-screen"),l="all",i=new Set;async function c(n){m(!0),e&&clearTimeout(e);try{let e=t[n];if(e){let t=await fetch(e);if(!t.ok)throw Error("Network response was not ok");let o=await t.json(),s=r(o.results.map(e=>({...e,category:n.charAt(0).toUpperCase()+n.slice(1)})));s.sort((e,t)=>new Date(t.published_date)-new Date(e.published_date)),d(s,n.charAt(0).toUpperCase()+n.slice(1)+" News",!1)}else{let[e,n,o,s,a]=await Promise.all([fetch(t.arts),fetch(t.home),fetch(t.science),fetch(t.us),fetch(t.world)]);if(!e.ok||!n.ok||!o.ok||!s.ok||!a.ok)throw Error("Network response was not ok");let[l,i,c,m,p]=await Promise.all([e.json(),n.json(),o.json(),s.json(),a.json()]),u=[...l.results.map(e=>({...e,category:"Arts"})),...i.results.map(e=>({...e,category:"Home"})),...c.results.map(e=>({...e,category:"Science"})),...m.results.map(e=>({...e,category:"US"})),...p.results.map(e=>({...e,category:"World"}))],y=r(u);y.sort((e,t)=>new Date(t.published_date)-new Date(e.published_date)),d(y,"All News",!0)}}catch(e){console.error("Error fetching articles:",e)}finally{e=setTimeout(()=>m(!1),500)}}function r(e){let t=new Date;return t.setDate(t.getDate()-2),e.filter(e=>new Date(e.published_date)>=t)}function d(e,t,a){n.innerHTML="","all"===l?(o.innerHTML=`Showing: ${t} - Includes all news categories`,s.style.display="block"):(o.textContent=`Showing: ${t}`,s.innerHTML=""),e.forEach(e=>{if(!i.has(e.url)){i.add(e.url);let t=e.multimedia&&e.multimedia.length>0?e.multimedia[0].url:"https://res.cloudinary.com/drkmgpcad/image/upload/v1726764310/uukdof1c6mw5osxtniwt.png",o=document.createElement("div");o.classList.add("article"),o.innerHTML=`
                    <img src="${t}" alt="${e.title}">
                    <h2>${e.title}</h2>
                    <p>${e.abstract}</p>
                    <p><strong>Published on:</strong> ${new Date(e.published_date).toLocaleDateString()}</p>
                    <p><strong>Category:</strong> ${e.category||"N/A"}</p>
                    <a href="${e.url}" target="_blank">Read more</a>
                `,n.appendChild(o)}})}function m(e){e?a.style.display="flex":a.style.display="none"}function p(){i.clear(),c(l)}document.getElementById("all-btn").addEventListener("click",()=>{l="all",p()}),document.getElementById("arts-btn").addEventListener("click",()=>{l="arts",p()}),document.getElementById("home-btn").addEventListener("click",()=>{l="home",p()}),document.getElementById("science-btn").addEventListener("click",()=>{l="science",p()}),document.getElementById("us-btn").addEventListener("click",()=>{l="us",p()}),document.getElementById("world-btn").addEventListener("click",()=>{l="world",p()});let u=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{window.scrollY>300?u.style.display="block":u.style.display="none"}),u.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),p()});
//# sourceMappingURL=index.ce3f053a.js.map
